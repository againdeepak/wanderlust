<% layout('/layouts/boilerplate.ejs') -%>
<body>
 <div class="w-75 m-auto">
    <h3 class="text-center mt-2">Edit your list </h3>
    <form method="POST" action="/listings/<%= listing._id%>?_method=PUT" class="mb-3 needs-validation" novalidate enctype="multipart/form-data">

        <div class="mb-2">
            <label class="form-label" for="title">Title</label>
            <input type="text" name="listing[title]" value="<%=listing.title%>" class="form-control" required>
            <div class="invalid-feedback">Title is empty</div>
        </div>
        <div class="mb-2">
            <label class="form-label" for="description">Description</label>
            <textarea type="text" rows="10" cols="40" name="listing[description]"
                class="form-control" required><%=listing.description%></textarea>
            <div class="invalid-feedback">Give description for user</div>


        </div>
        <div>
            <fieldset>
                <legend>Original Image</legend>
                <img src="<%=originalImageUrl%>" alt="" width="400px">
            </fieldset>
        </div>
        <div class="mb-2">
            <label class="form-label" for="image">Upload image </label>
            <input type="file" name="listing[image]" class="form-control" >
        </div>
       
        <div class="mb-2">
            <label class="form-label" for="price">Price</label>
            <input type="number" name="listing[price]" value="<%=listing.price%>" class="form-control" required>
            <div class="invalid-feedback">Enter price</div>

        </div>
        <div class="mb-2">
            <label class="form-label" for="location">Location</label>
            <input type="text" name="listing[location]" value="<%=listing.location%>" class="form-control" required>
            <div class="invalid-feedback">Location is empty</div>

        </div>
        <div class="mb-2">
            <label class="form-label" for="country">Country</label><br>
            <input type="text" name="listing[country]" value="<%=listing.country%>" class="form-control" required>
            <div class="invalid-feedback">Country name should be mentioned</div>

        </div>
        <br>
        <button class="btn btn-primary w-25" type="submit">Edit</button>
        <br>
    </form>
 </div>
 <script src="/javascript/script.js"></script>
</body>